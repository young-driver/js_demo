<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>返回顶部</title>
    <style>

        .back_img {
            position: fixed;
            bottom: 20px;
            right: 30px;
            cursor: pointer;
            display: none;
            border: 1px solid #000;
        }

        .body_img {
            width: 90%;
            height: 5000px;
            text-align: center;
        }

        .body_img li {
            list-style: none;
            margin-top: 100px;
        }

    </style>

    <script src="js/my.js"></script>

</head>
<body>

    <img class="back_img" src="imgs/backToTop.jpg">
    <div class="body_img" id="body_img">
        <ul>
            <li><img src="imgs/pic1.jpg"></li>
            <li><img src="imgs/pic2.jpg"></li>
            <li><img src="imgs/pic3.png"></li>
            <li><img src="imgs/pic4.jpg"></li>
            <li><img src="imgs/pic5.jpg"></li>
            <li><img src="imgs/pic1.jpg"></li>
            <li><img src="imgs/pic2.jpg"></li>
            <li><img src="imgs/pic3.png"></li>
            <li><img src="imgs/pic4.jpg"></li>
            <li><img src="imgs/pic5.jpg"></li>
        </ul>
    </div>
    <script>
                        //技术点：window.scrollTo(x,y);浏览器显示区域跳转到指定的坐标
                        var img = document.getElementsByTagName("img")[0];
                        window.onscroll = function () {
                            if(scroll().top>1000){
                                img.style.display = "block";
                            }else{
                                img.style.display = "none";
                            }
                            //每次移动滚动条的时候都给leader赋值，模拟leader获取距离顶部的距离
                            leader = scroll().top;
                        }

                        var timer = null;
                        var target = 0; //目标位置
                        var leader = 0; //显示区域自身的位置
                        img.onclick = function () {
                            //技术点：window.scrollTo(0,0);
                            //要用定时器，先清定时器
                            clearInterval(timer);
                            timer = setInterval(function () {
                                //获取步长
                                var step = (target-leader)/10;
                                //二次处理步长
                                step = step>0?Math.ceil(step):Math.floor(step);
                                leader = leader +step;
                                //显示区域移动
                                window.scrollTo(0,leader);
                                //清除定时器
                                if(leader === 0){
                                    clearInterval(timer);
                                }
                            },25);
                        }
    </script>
</body>
</html>